<<<<<<< HEAD:src/org/inaturalist/tpwd/android/BaseProjectsTab.java
package org.inaturalist.tpwd.android;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;

import org.inaturalist.tpwd.android.R;
import org.inaturalist.tpwd.android.BaseProjectsTab.ProjectsAdapter;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import com.actionbarsherlock.app.SherlockFragment;
import com.koushikdutta.urlimageviewhelper.UrlImageViewHelper;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.res.Resources;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.text.Editable;
import android.text.Html;
import android.text.TextWatcher;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.EditText;
import android.widget.Filter;
import android.widget.Filterable;
import android.widget.ImageView;
import android.widget.ListView;
import android.widget.ProgressBar;
import android.widget.TextView;

public abstract class BaseProjectsTab extends SherlockFragment {

    private ProjectsAdapter mAdapter;
    private ArrayList<JSONObject> mProjects = null;

    private class ProjectsReceiver extends BroadcastReceiver {
        @Override
        public void onReceive(Context context, Intent intent) {
            Log.i(TAG, "GOT " + getFilterResultName());
            
            getActivity().unregisterReceiver(mProjectsReceiver);
            
            JSONArray projects = ((SerializableJSONArray) intent.getSerializableExtra(getFilterResultParamName())).getJSONArray();
            mProjects = new ArrayList<JSONObject>();
            
            if (projects == null) {
                loadProjectsIntoUI();
                return;
            }
            
            for (int i = 0; i < projects.length(); i++) {
                try {
                    mProjects.add(projects.getJSONObject(i));
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            }
            
            Collections.sort(mProjects, new Comparator<JSONObject>() {
                @Override
                public int compare(JSONObject lhs, JSONObject rhs) {
                    try {
                        return lhs.getString("title").compareTo(rhs.getString("title"));
                    } catch (JSONException e) {
                        return 0;
                    }
                }
            });
 
            
            
            loadProjectsIntoUI();
=======
package org.inaturalist.android;
>>>>>>> 0695cefe6f452a8fc8edb1a010eca682ae57ef84:src/org/inaturalist/android/BaseProjectsTab.java

import android.content.Intent;

public abstract class BaseProjectsTab extends BaseTab {
    protected void onItemSelected(BetterJSONObject item) {
    	// Show project details
    	Intent intent = new Intent(getActivity(), ProjectDetails.class);
    	intent.putExtra("project", item);
    	startActivity(intent);  
    }
    
    
    protected String getSearchFilterTextHint() {
    	return getResources().getString(R.string.search_projects);
    }

    protected String getNoItemsFoundText() {
    	return getResources().getString(R.string.no_projects);
    }

    protected String getNoInternetText() {
    	return getResources().getString(R.string.no_internet_projects);
    }
}
